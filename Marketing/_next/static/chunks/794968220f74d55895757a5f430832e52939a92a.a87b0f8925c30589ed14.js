(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"04Vs":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return K}));var r=n("HALo"),i=n("dhJC"),o=n("xvhg"),a=n("H+61"),s=n("UlJF"),l=n("+Css"),c=n("7LId"),u=n("VIvw"),d=n("iHvq"),f=n("cpVT"),v=n("q1tI"),h=n.n(v),p=n("BVru"),g=n("WG+w"),m=n("iEE2"),y=n("wEEd"),b=n("y4v0"),w=n("bdgK"),S=n("6iu5"),O=n("YFqc"),_=n.n(O),M=n("z/o8"),G=n("sXAO"),P=n("76ZC"),T=n.n(P),j=n("FWZJ"),E=n("We7m"),I=n.n(E),D=n("r7fk"),N=n("nOHt"),V=h.a.createElement;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var i=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function L(e){var t=e.position,n=e.featuredImage,r=void 0===n?{}:n,i=e.title,o=void 0===i?"":i,a=e.slug,s=void 0===a?"":a,l=e.service,c=void 0!==l&&l,u=e.name,d=(e.active,e.href),f=void 0===d?null:d,v=e.as,p=void 0===v?null:v,g=Object(y.c)({}),m=Object(y.c)({});Object(N.useRouter)().query;return console.log(r),V("div",{className:"single-study__vertical"},V("div",{className:"single-study__section",style:{gridRow:t?2:1}},V("div",{className:"single-study__section__bg"},V("img",{alt:null===r||void 0===r?void 0:r.altText,src:null===r||void 0===r?void 0:r.sourceUrl})),V(y.a.div,{style:m,className:"content"},V("h2",{className:"title"},T()(o||u||"")),V(_.a,{href:f||c?"//services/[slug]":"/portfolio/[slug]",as:p||c?"/services/".concat(s):"/portfolio/".concat(s)},V("a",null,"\u67e5\u770b\u6848\u4f8b\u8be6\u60c5")),V(_.a,{href:f||c?"//services/[slug]":"/portfolio/[slug]",as:p||c?"/services/".concat(s):"/portfolio/".concat(s)},V("a",{className:"button black-opaque"},V(h.a.Fragment,null,c?"L\u4e86\u89e3\u66f4\u591a ":"Case study ",V("span",null,"\ud83d\udc49")))))),V("div",{className:"single-study__section single-study__img",style:{gridRow:t?1:2}},V(y.a.img,{alt:null===r||void 0===r?void 0:r.altText,style:g,src:null===r||void 0===r?void 0:r.sourceUrl})))}var W=function(e){Object(c.a)(n,e);var t=B(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(f.a)(Object(l.a)(e),"timeline",M.a.timeline({paused:!0})),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=new D.a(this.textInto,{type:"chars"});this.timeline.from(e.chars,{opacity:0,delay:.5,duration:1,y:100,stagger:.05,ease:"power4.out"}),this.timeline.to(e.chars,{opacity:0,duration:1,y:-100,stagger:.05,ease:"power4.out"},"-=0.2"),this.timeline.to(this.baseRef,{scaleY:0,duration:1,ease:"power4.out",display:"none"}),this.props.active&&this.timeline.play()}},{key:"componentDidUpdate",value:function(e){e.active!==this.props.active&&this.props.active&&this.timeline.play()}},{key:"render",value:function(){var e=this;return V("div",{className:"animation-overlay-wrapper"},V("div",{className:"animation-overlay",ref:function(t){return e.baseRef=t}},V("h2",{className:"huge",ref:function(t){return e.textInto=t}},this.props.children)))}}]),n}(h.a.Component);function x(e){var t=e.studies,n=void 0===t?[]:t,a=e.useScroll,s=e.active,l=void 0===s||s,c=e.service,u=void 0!==c&&c,d=e.noScroll,f=void 0!==d&&d,v=(e.topics,e.noIntro);if(!n.length)return null;var O=Object(S.b)(),_=(O.width,O.viewportSize),M=_.isTablet?n.length/1-1:_.isLaptop?n.length/2-1:n.length/3-1>0?_.isTablet?n.length/1-1:_.isLaptop?n.length/2-1:n.length/3-1:0,P=Object(g.a)({maxIndex:Math.round(M),initialIndex:0}),T=Object(o.a)(P,4),E=T[0],I=T[1],D=T[2],N=(T[3],Object(m.a)({polyfill:w.a})),k=Object(o.a)(N,2),B=k[0],x=(k[1],Object(y.d)(D,(function(e){return e}),{initial:null,from:{opacity:0,transform:"translate(50%,0)"},enter:{opacity:1,transform:"translate(0,0)"},leave:{opacity:0,transform:"translate(-50%,0)"}})),K=Object(b.b)({onWheel:function(e){var t=Object(o.a)(e.direction,2),n=(t[0],t[1]),r=e.first;Object(i.a)(e,["direction","first"]);if(a&&r&&0!==n)return n>0?E():I()}},{threshold:300,axis:"y"});return V("section",Object(r.a)({},K(),{className:"case-studies__wrapper bg-white",ref:B}),!v&&V(W,{active:l,className:"case-studies__prev",alternateText:"We hold the key to unlocking new audiences"},V("span",null,"\u6211\u4eec\u7684"),V("span",null,u?"\u7b56\u7565":"\u6210\u5c31","...")),V((function(){return M?V(h.a.Fragment,null,V("button",{disabled:0===D,className:"arrow-left",onClick:function(){return I()}},V(p.a,null)),V("button",{disabled:M===D,className:"arrow-right",onClick:function(){return E()}},V(p.b,null))):null}),null),V("div",{className:"case-studies__counter"},V("div",{className:"left"},V("h4",null,u?"\u6211\u4eec\u7684\u7b56\u7565":"\u6210\u5c31")),V("div",{className:"right"},V("h4",null,Object(j.e)(D+1,2)," ",V("br",null)," / ",V("br",null)," ",Object(j.e)(M+1,2)))),x.map((function(e){var t=e.item,i=e.key,o=e.props,a=n.length/(M+1);return V(y.a.div,{key:i,style:C({},o),className:"case-studies"},Array(a).fill().map((function(e,i){var o=t*a+i,s=n[o]?n[o]:{};return s.title?V(L,Object(r.a)({service:u,active:_.isTablet||l,key:"keyStudySingle"+i},s||{},{position:Boolean(i%2)})):V(h.a.Fragment,null)})))})),!f&&V(G.a,{index:D,className:"scroll-down"}))}function K(e){var t=e.useScroll,n=void 0!==t&&t,r=e.active,i=e.listItems,o=e.noScroll,a=void 0!==o&&o,s=e.noIntro,l=void 0!==s&&s,c=Object(v.useState)(r),u=c[0],d=c[1];return Object(v.useEffect)((function(){r&&d(!0)}),[r]),V(h.a.Fragment,null,V(I.a,{onInView:function(){d(!0)},onNotInView:function(){return d(!1)}},V(x,{noIntro:l,noScroll:a,active:u,useScroll:n,studies:i})))}},BVru:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("q1tI"),i=n.n(r).a.createElement;function o(e){e.disabled;return i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"110",height:"110",fill:"none",viewBox:"0 0 110 110"},i("circle",{cx:"55",cy:"55",r:"55",fill:"#000",fillOpacity:"0.5"}),i("path",{fill:"#fff",fillRule:"evenodd",d:"M40.5 52h29v5h-29v-5z",clipRule:"evenodd"}),i("path",{fill:"#fff",fillRule:"evenodd",d:"M52.262 38.202l3.476 3.595L42.597 54.5l13.14 12.702-3.475 3.595L35.403 54.5l16.86-16.298z",clipRule:"evenodd"}))}function a(e){e.disabled;return i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"110",height:"110",fill:"none",viewBox:"0 0 110 110"},i("circle",{cx:"55",cy:"55",r:"55",fill:"#000",fillOpacity:"0.5",transform:"rotate(180 55 55)"}),i("path",{fill:"#fff",fillRule:"evenodd",d:"M68.5 58h-29v-5h29v5z",clipRule:"evenodd"}),i("path",{fill:"#fff",fillRule:"evenodd",d:"M56.738 71.798l-3.476-3.595L66.403 55.5l-13.14-12.702 3.475-3.595L73.597 55.5l-16.86 16.298z",clipRule:"evenodd"}))}},We7m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=(r=n("17x9"))&&r.__esModule?r:{default:r};function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=c(t).call(this))||"object"!==s(i)&&"function"!==typeof i?u(r):i).state={className:e.classNameNotInView,childProps:e.childPropsNotInView},n.onIntersectionAll=n.onIntersectionAll.bind(u(n)),n.onIntersection=n.onIntersection.bind(u(n)),n.isFirstInView=!0,n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){if(window.IntersectionObserver){var e=this.props,t=e.useInviewMonitor,n=e.intoViewMargin,r=e.threshold;if(this._element&&t&&("function"!==typeof t||t())){var i={rootMargin:n,threshold:r};this.observer=new window.IntersectionObserver(this.onIntersectionAll,i),this.observer.observe(this._element)}}else console.error("react-inview-monitor found no support for IntersectionObserver.\nPerhaps use a polyfill like: https://cdn.polyfill.io/v2/polyfill.js?features=IntersectionObserver ?")}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"onIntersectionAll",value:function(e){e.forEach(this.onIntersection)}},{key:"onIntersection",value:function(e){if(e.target===this._element){var t=this.props,n=t.classNameNotInView,r=t.classNameInView,i=t.classNameAboveView,o=t.classNameNotAboveView,a=t.toggleClassNameOnInView,s=t.childPropsInView,l=t.childPropsNotInView,c=t.toggleChildPropsOnInView,u=t.onInView,d=t.onNotInView,f=t.repeatOnInView,v=e.isIntersecting,h=v&&this.isFirstInView;h&&(this.isFirstInView=!1);var p=("string"===typeof r||"string"===typeof i)&&a,g=s&&c,m=p||g||(u||d)&&f;if(v&&!m){var y={};return"string"===typeof r&&(y.className=r),s&&(y.childProps=s),Object.keys(y).length&&this.setState(y),u&&"function"===typeof u&&u(e),void this.observer.unobserve(e.target)}if(m){if("string"===typeof i)return void(!v&&e.boundingClientRect.top<=0?this.setState({className:i}):this.setState({className:o||""}));if(v){var b={};(p||h)&&(b.className=r),(g||h)&&(b.childProps=s),Object.keys(b).length&&this.setState(b),u&&"function"===typeof u&&u(e)}else{var w={};p&&(w.className=n),g&&(w.childProps=l),Object.keys(w).length&&this.setState(w),d&&"function"===typeof d&&d(e)}}}}},{key:"render",value:function(){var e=this,t=this.state,n=t.childProps,r=t.className,o=this.props,a=(o.useInviewMonitor,o.children);return n&&Object.keys(n).length&&(a=i.default.cloneElement(a,n)),i.default.createElement("div",{className:r,ref:function(t){t&&(e._element=t)}},a)}}])&&l(n.prototype,r),o&&l(n,o),t}(i.Component);f.propTypes={classNameInView:o.default.string,classNameNotInView:o.default.string,classNameAboveView:o.default.string,classNameNotAboveView:o.default.string,toggleClassNameOnInView:o.default.bool,childPropsInView:o.default.object,childPropsNotInView:o.default.object,toggleChildPropsOnInView:o.default.bool,onInView:o.default.func,onNotInView:o.default.func,repeatOnInView:o.default.bool,useInviewMonitor:o.default.func,intoViewMargin:o.default.string,threshold:o.default.number},f.defaultProps={classNameNotInView:"",childPropsNotInView:{},useInviewMonitor:function(){return!0},intoViewMargin:"-20%",threshold:0};var v=f;t.default=v},y4v0:function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return Z}));var r=n("q1tI"),i=n.n(r);function o(e,t){return e.map((function(e,n){return e+t[n]}))}function a(e,t){return e.map((function(e,n){return e-t[n]}))}function s(e,t,n){return n=n||Math.hypot.apply(Math,e),t?n/t:0}function l(e,t){return t?e.map((function(e){return e/t})):Array(e.length).fill(0)}function c(e){return Math.hypot.apply(Math,e)}function u(e,t){return t=t||Math.hypot.apply(Math,e)||1,e.map((function(e){return e/t}))}function d(e,t,n){var r=Math.hypot.apply(Math,t);return{velocities:l(t,n),velocity:s(t,n,r),distance:c(e),direction:u(t,r)}}function f(e,t){return Math.abs(e)>=t&&Math.sign(e)*t}function v(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function h(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-v(t-e,n-t,r)+t:e>n?v(e-n,n-t,r)+n:e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function b(){}var w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.forEach((function(e){return e.apply(void 0,n)}))}},S=function(e){return Array.isArray(e)?e:[e,e]},O=function(e,t){return void 0!==e?e:t};function _(e,t){var n={};return Object.entries(e).forEach((function(e){var r=e[0],i=e[1];return(void 0!==i||r in t)&&(n[r]=i)})),n}function M(e){return"function"===typeof e?e():e}function G(){var e={_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],event:void 0,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:b,canceled:!1,memo:void 0,args:void 0},t={axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0},n={da:[0,0],vdva:[0,0],origin:void 0,turns:0};return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:g({},e,{},t,{_isTap:!0,_delayedEvent:!1,tap:!1,swipe:[0,0]}),pinch:g({},e,{},n),wheel:g({},e,{},t),move:g({},e,{},t),scroll:g({},e,{},t)}}var P=function(e){return function(t,n,r){var i=e?"addEventListener":"removeEventListener";n.forEach((function(e){var n=e[0],o=e[1];return t[i](n,o,r)}))}};var T=P(!0),j=P(!1);function E(e){if("touches"in e){var t=e.touches,n=e.changedTouches;return t.length>0?t:n}return null}function I(e){var t="buttons"in e?e.buttons:0,n=E(e),r=n&&n.length||0;return g({touches:r,down:r>0||t>0,buttons:t},function(e){return{shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}(e))}function D(e){var t=e.currentTarget,n=t.scrollX,r=t.scrollY,i=t.scrollLeft,o=t.scrollTop;return{values:[n||i||0,r||o||0]}}function N(e){return{values:[e.deltaX,e.deltaY]}}function V(e){var t=E(e),n=t?t[0]:e;return{values:[n.clientX,n.clientY]}}function k(e){return{values:[260*e.scale,e.rotation]}}function C(e){var t=e.touches,n=t[1].clientX-t[0].clientX,r=t[1].clientY-t[0].clientY;return{values:[Math.hypot(n,r),-180*Math.atan2(n,r)/Math.PI],origin:[(t[1].clientX+t[0].clientX)/2,(t[1].clientY+t[0].clientY)/2]}}var B=function(){var e=this;this.state=G(),this.timeouts={},this.domListeners=[],this.windowListeners={},this.bindings={},this.clean=function(){e.resetBindings(),Object.values(e.timeouts).forEach(clearTimeout),Object.keys(e.windowListeners).forEach((function(t){return e.removeWindowListeners(t)}))},this.resetBindings=function(){e.bindings={};var t=e.getDomTarget();t&&(j(t,e.domListeners,e.config.eventOptions),e.domListeners=[])},this.getDomTarget=function(){var t=e.config.domTarget;return t&&"current"in t?t.current:t},this.addWindowListeners=function(t,n){e.config.window&&(e.windowListeners[t]=n,T(e.config.window,n,e.config.eventOptions))},this.removeWindowListeners=function(t){if(e.config.window){var n=e.windowListeners[t];n&&(j(e.config.window,n,e.config.eventOptions),delete e.windowListeners[t])}},this.addDomTargetListeners=function(t){Object.entries(e.bindings).forEach((function(t){var n=t[0],r=t[1];e.domListeners.push([n.substr(2).toLowerCase(),w.apply(void 0,r)])})),T(t,e.domListeners,e.config.eventOptions)},this.addBindings=function(t,n){(Array.isArray(t)?t:[t]).forEach((function(t){e.bindings[t]?e.bindings[t].push(n):e.bindings[t]=[n]}))},this.getBindings=function(){var t={},n=e.config.captureString;return Object.entries(e.bindings).forEach((function(e){var r=e[0],i=e[1],o=Array.isArray(i)?i:[i];t[r+n]=w.apply(void 0,o)})),t},this.getBind=function(){if(e.config.domTarget){var t=e.getDomTarget();return t&&e.addDomTargetListeners(t),e.clean}return e.getBindings()}};function L(e,t,n,r){var o=i.a.useRef(),a=i.a.useRef();return o.current||(o.current=new B),o.current.config=n,o.current.handlers=e,a.current=r,i.a.useEffect((function(){return o.current.clean}),[]),i.a.useState((function(){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.current.resetBindings(),t.forEach((function(e){new e(o.current,n).addBindings()})),a.current&&Object.entries(a.current).forEach((function(e){var t=e[0],n=e[1];o.current.addBindings(t,n)})),o.current.getBind()}}))[0]}var W=function(){function e(e,t,n){var r=this;void 0===n&&(n=[]),this.stateKey=e,this.controller=t,this.args=n,this.debounced=!0,this.setTimeout=function(e,t){var n;void 0===t&&(t=140);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];r.controller.timeouts[r.stateKey]=(n=window).setTimeout.apply(n,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(r.controller.timeouts[r.stateKey])},this.addWindowListeners=function(e){r.controller.addWindowListeners(r.stateKey,e)},this.removeWindowListeners=function(){r.controller.removeWindowListeners(r.stateKey)},this.getStartGestureState=function(e,t){return g({},G()[r.stateKey],{_active:!0,values:e,initial:e,offset:r.state.offset,lastOffset:r.state.offset,startTime:t.timeStamp})},this.rubberband=function(e,t){var n=r.config.bounds;return e.map((function(e,r){return h(e,n[r][0],n[r][1],t[r])}))},this.fireGestureHandler=function(e){if(r.state._blocked)return r.debounced||(r.state._active=!1,r.clean()),null;var t=r.state._intentional,n=t[0],i=t[1];if(!e&&!1===n&&!1===i)return null;var o=r.state,a=o._active,s=o.active;r.state.active=a,r.state.first=a&&!s,r.state.last=s&&!a,r.controller.state.shared[r.ingKey]=a;var l=g({},r.controller.state.shared,{},r.state,{},r.mapStateValues(r.state)),c=r.handler(l);return r.state.memo=void 0!==c?c:r.state.memo,a||r.clean(),l}}var t,n,r,i=e.prototype;return i.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},i.updateGestureState=function(e){Object.assign(this.state,e)},i.getGenericPayload=function(e,t){var n=e.timeStamp,r=this.state,i=r.values,o=r.startTime;return{event:e,timeStamp:n,elapsedTime:t?0:n-o,args:this.args,previous:i}},i.checkIntentionality=function(e,t,n){return{_intentional:e,_blocked:!1}},i.getMovement=function(e,t){void 0===t&&(t=this.state);var n=this.config,r=n.initial,i=n.threshold,s=n.rubberband,l=i[0],c=i[1],u=t,d=u._initial,v=u._active,h=u._intentional,p=u.lastOffset,m=u.movement,y=h[0],b=h[1],w=this.getInternalMovement(e,t),S=w[0],O=w[1];!1===y&&(y=f(S,l)),!1===b&&(b=f(O,c));var _=this.checkIntentionality([y,b],[S,O],t),G=_._intentional,P=_._blocked,T=G[0],j=G[1],E=[S,O];if(!1!==T&&!1===h[0]&&(d[0]=M(r)[0]),!1!==j&&!1===h[1]&&(d[1]=M(r)[1]),P)return g({},_,{_movement:E,delta:[0,0]});var I=[!1!==T?S-T:M(r)[0],!1!==j?O-j:M(r)[1]],D=o(I,p),N=v?s:[0,0];return g({},_,{_initial:d,_movement:E,movement:I=this.rubberband(o(I,d),N),offset:this.rubberband(D,N),delta:a(I,m)})},i.clean=function(){this.clearTimeout(),this.removeWindowListeners()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&p(t.prototype,n),r&&p(t,r),e}(),x=function(e){function t(){return e.apply(this,arguments)||this}m(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return a(e,t.initial)},n.checkIntentionality=function(e,t,n){var r=e,i=r[0],o=r[1],a=!1!==i||!1!==o,s=n.axis,l=!1;if(a){var c=t.map(Math.abs),u=c[0],d=c[1],f=this.config,v=f.axis,h=f.lockDirection;if(s=s||(u>d?"x":u<d?"y":void 0),v||h)if(s)if(v&&s!==v)l=!0;else e["x"===s?1:0]=!1;else e=[!1,!1]}return{_intentional:e,_blocked:l,axis:s}},n.getKinematics=function(e,t){var n=this.state.timeStamp,r=this.getMovement(e,this.state),i=r._blocked,o=r.delta,a=r.movement;return i?r:g({values:e,delta:o},r,{},d(a,o,t.timeStamp-n))},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(W),K=function(e){function t(t,n){var r;return(r=e.call(this,"drag",t,n)||this).ingKey="dragging",r.isTouch=!1,r.wasTouch=!1,r.dragShouldStart=function(e){var t=I(e).touches;if((r.isTouch=!!t,!r.controller.config.pointer&&r.wasTouch&&!r.isTouch)&&Math.abs(e.timeStamp-r.state.startTime)<200)return!1;return r.enabled&&t<2},r.setPointers=function(e){var t=e.currentTarget,n=e.pointerId;t&&t.setPointerCapture(n),r.updateGestureState({currentTarget:t,pointerId:n})},r.removePointers=function(){var e=r.state,t=e.currentTarget,n=e.pointerId;t&&t.releasePointerCapture(n)},r.setListeners=function(){r.removeWindowListeners();var e=r.isTouch?[["touchmove",r.onDragChange],["touchend",r.onDragEnd]]:[["touchcancel",r.onDragEnd],["mousemove",r.onDragChange],["mouseup",r.onDragEnd]];r.addWindowListeners(e)},r.onDragStart=function(e){r.dragShouldStart(e)&&(r.controller.config.pointer?r.setPointers(e):r.setListeners(),r.config.delay>0?(r.state._delayedEvent=!0,"function"===typeof e.persist&&e.persist(),r.setTimeout((function(){return r.startDrag(e)}),r.config.delay)):r.startDrag(e))},r.onDragChange=function(e){if(!r.state.canceled)if(r.state._active){var t=I(e);if(t.down){r.updateSharedState(t);var n=V(e).values,i=r.getKinematics(n,e),o=r.state._isTap;o&&c(i._movement)>=3&&(o=!1),r.updateGestureState(g({},r.getGenericPayload(e),{},i,{_isTap:o,cancel:function(){return r.onCancel()}})),r.fireGestureHandler()}else r.onDragEnd(e)}else r.state._delayedEvent&&(r.clearTimeout(),r.startDrag(e))},r.onDragEnd=function(e){r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0});var t=r.state,n=t._isTap,i=t.values,o=t.velocities,a=o[0],s=o[1],l=t.movement,c=l[0],u=l[1],d=t._intentional,f=d[0],v=d[1],h=g({},r.getGenericPayload(e),{},r.getMovement(i)),p=h.elapsedTime,m=r.config,y=m.swipeVelocity,b=y[0],w=y[1],S=m.swipeDistance,O=S[0],_=S[1],M=[0,0];p<220&&(!1!==f&&Math.abs(a)>b&&Math.abs(c)>O&&(M[0]=Math.sign(a)),!1!==v&&Math.abs(s)>w&&Math.abs(u)>_&&(M[1]=Math.sign(s))),r.updateGestureState(g({event:e},h,{tap:n,swipe:M})),r.fireGestureHandler(r.config.filterTaps&&r.state._isTap)},r.clean=function(){e.prototype.clean.call(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r.state._delayedEvent=!1,r.wasTouch=r.isTouch,r.isTouch=!1,r.controller.config.pointer&&r.removePointers()},r.onCancel=function(){r.updateGestureState({canceled:!0,cancel:b}),r.state._active=!1,r.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return r.fireGestureHandler()}))},r}m(t,e);var n=t.prototype;return n.startDrag=function(e){var t=this,n=V(e).values;this.updateSharedState(I(e));var r=g({},this.getStartGestureState(n,e),{},this.getGenericPayload(e,!0));this.updateGestureState(g({},r,{},this.getMovement(n,r),{cancel:function(){return t.onCancel()}})),this.fireGestureHandler()},n.addBindings=function(){this.controller.config.pointer?(this.controller.addBindings("onPointerDown",this.onDragStart),this.controller.addBindings("onPointerMove",this.onDragChange),this.controller.addBindings(["onPointerUp","onPointerCancel"],this.onDragEnd)):this.controller.addBindings(["onTouchStart","onMouseDown"],this.onDragStart)},t}(x);function H(){return"undefined"!==typeof window?window:void 0}function R(e){void 0===e&&(e={});var t={domTarget:void 0,eventOptions:{passive:!0,capture:!1,pointer:!1},window:H(),enabled:!0},n=t.eventOptions,r=t.window,i=y(t,["eventOptions","window"]),o=e,a=o.eventOptions,s=o.window,l=y(o,["eventOptions","window"]),c=g({},n,{},a),u=c.passive,d=c.capture,f=c.pointer;return g({},i,{},l,{window:s||r,eventOptions:{passive:!e.domTarget||!!u,capture:!!d},captureString:d?"Capture":"",pointer:!!f})}function A(e){var t=g({},{enabled:!0,initial:[0,0],threshold:void 0,rubberband:0},{},e),n=t.threshold,r=t.rubberband;return"boolean"===typeof r&&(r=r?.15:0),void 0===n&&(n=0),{enabled:t.enabled,initial:t.initial,threshold:S(n),rubberband:S(r)}}function F(e){void 0===e&&(e={});var t={lockDirection:!1,axis:void 0,bounds:void 0},n=e,r=n.axis,i=n.lockDirection,o=n.bounds,a=void 0===o?{}:o,s=y(n,["axis","lockDirection","bounds"]),l=[[O(a.left,-1/0),O(a.right,1/0)],[O(a.top,-1/0),O(a.bottom,1/0)]];return g({},A(s),{},t,{},_({axis:r,lockDirection:i},e),{bounds:l})}function q(e){void 0===e&&(e={});var t=e,n=t.distanceBounds,r=void 0===n?{}:n,i=t.angleBounds,o=void 0===i?{}:i,a=y(t,["distanceBounds","angleBounds"]),s=[[O(r.min,-1/0),O(r.max,1/0)],[O(o.min,-1/0),O(o.max,1/0)]];return g({},A(a),{bounds:s})}function Y(e){void 0===e&&(e={});var t=e,n=t.enabled,r=t.threshold,i=t.bounds,o=t.rubberband,a=t.initial,s=g({},{filterTaps:!1,swipeVelocity:.5,swipeDistance:60,delay:!1},{},y(t,["enabled","threshold","bounds","rubberband","initial"])),l=s.swipeVelocity,c=s.swipeDistance,u=s.delay,d=s.filterTaps,f=s.axis,v=s.lockDirection;void 0===r?r=Math.max(0,d?3:0,v||f?1:0):d=!0;var h=F(_({enabled:n,threshold:r,bounds:i,rubberband:o,axis:f,lockDirection:v,initial:a},e));return g({},h,{filterTaps:d||h.threshold[0]+h.threshold[1]>0,swipeVelocity:S(l),swipeDistance:S(c),delay:"number"===typeof u?u:u?180:0})}function X(e,t){void 0===t&&(t={});var n=t,r=n.domTarget,i=n.eventOptions,o=n.window,a=y(n,["domTarget","eventOptions","window"]),s=g({},R({domTarget:r,eventOptions:i,window:o}),{drag:Y(a)});return L({drag:e},[K],s)}var z=function(e){function t(t,n){var r;return(r=e.call(this,"pinch",t,n)||this).ingKey="pinching",r.pinchShouldStart=function(e){var t=I(e).touches;return r.enabled&&2===t},r.onPinchStart=function(e){if(r.pinchShouldStart(e)){var t=C(e),n=t.values,i=t.origin;r.updateSharedState(I(e));var o=g({},r.getStartGestureState(n,e),{},r.getGenericPayload(e,!0));r.updateGestureState(g({},o,{},r.getMovement(n,o),{origin:i,cancel:function(){return r.onCancel()}})),r.fireGestureHandler()}},r.onPinchChange=function(e){var t=r.state,n=t.canceled,i=t.timeStamp,o=t._active;if(!n&&o){var a=I(e);if(2===a.touches&&e.timeStamp!==i){r.updateSharedState(a);var s=C(e),l=s.values,c=s.origin,u=r.getKinematics(l,e);r.updateGestureState(g({},r.getGenericPayload(e),{},u,{origin:c,cancel:function(){return r.onCancel()}})),r.fireGestureHandler()}}},r.onPinchEnd=function(e){r.state.active&&(r.state._active=!1,r.updateSharedState({down:!1,touches:0}),r.updateGestureState(g({event:e},r.getGenericPayload(e),{},r.getMovement(r.state.values))),r.fireGestureHandler())},r.onCancel=function(){r.state._active=!1,r.updateGestureState({canceled:!0,cancel:b}),r.updateSharedState({down:!1,touches:0}),requestAnimationFrame((function(){return r.fireGestureHandler()}))},r.onGestureStart=function(e){if(r.enabled){e.preventDefault();var t=k(e).values;r.updateSharedState(I(e));var n=g({},r.getStartGestureState(t,e),{},r.getGenericPayload(e,!0));r.updateGestureState(g({},n,{},r.getMovement(t,n),{cancel:function(){return r.onCancel()}})),r.fireGestureHandler()}},r.onGestureChange=function(e){var t=r.state,n=t.canceled,i=t._active;if(!n&&i){e.preventDefault();var o=I(e);r.updateSharedState(o);var a=k(e).values,s=r.getKinematics(a,e);r.updateGestureState(g({},r.getGenericPayload(e),{},s,{cancel:function(){return r.onCancel()}})),r.fireGestureHandler()}},r.onGestureEnd=function(e){e.preventDefault(),r.state.active&&(r.state._active=!1,r.updateSharedState({down:!1,touches:0}),r.updateGestureState(g({event:e},r.getGenericPayload(e),{},r.getMovement(r.state.values))),r.fireGestureHandler())},r.updateTouchData=function(e){if(r.enabled&&2===e.touches.length&&r.state._active){var t=C(e).origin;r.state.origin=t}},r.wheelShouldRun=function(e){return r.enabled&&e.ctrlKey},r.getWheelValuesFromEvent=function(e){var t=N(e).values[1],n=r.state.values,i=n[0],o=n[1];return{values:[i-t,void 0!==o?o:0],origin:[e.clientX,e.clientY],delta:[0,t]}},r.onWheel=function(e){r.wheelShouldRun(e)&&(r.clearTimeout(),r.setTimeout(r.onWheelEnd),r.state._active?r.onWheelChange(e):r.onWheelStart(e))},r.onWheelStart=function(e){var t=r.getWheelValuesFromEvent(e),n=t.values,i=t.delta,o=t.origin;r.controller.config.eventOptions.passive||e.preventDefault(),r.updateSharedState(I(e));var a=g({},r.getStartGestureState(n,e),{},r.getGenericPayload(e,!0),{initial:r.state.values});r.updateGestureState(g({},a,{},r.getMovement(n,a),{offset:n,delta:i,origin:o})),r.fireGestureHandler()},r.onWheelChange=function(e){var t=I(e);r.updateSharedState(t);var n=r.getWheelValuesFromEvent(e),i=n.values,o=n.origin,a=n.delta,s=r.getKinematics(i,e);r.updateGestureState(g({},r.getGenericPayload(e),{},s,{origin:o,delta:a})),r.fireGestureHandler()},r.onWheelEnd=function(){r.state._active=!1,r.updateGestureState(r.getMovement(r.state.values)),r.fireGestureHandler()},r}return m(t,e),t.prototype.addBindings=function(){this.controller.config.domTarget&&function(){try{return"constructor"in GestureEvent}catch(e){return!1}}()?(this.controller.addBindings("onGestureStart",this.onGestureStart),this.controller.addBindings("onGestureChange",this.onGestureChange),this.controller.addBindings(["onGestureEnd","onTouchCancel"],this.onGestureEnd),this.controller.addBindings(["onTouchStart","onTouchMove"],this.updateTouchData)):(this.controller.addBindings("onTouchStart",this.onPinchStart),this.controller.addBindings("onTouchMove",this.onPinchChange),this.controller.addBindings(["onTouchEnd","onTouchCancel"],this.onPinchEnd),this.controller.addBindings("onWheel",this.onWheel))},t}(function(e){function t(){return e.apply(this,arguments)||this}m(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){var n=e[0],r=e[1],i=t.values,o=t.turns,a=t.initial,s=(r=void 0!==r?r:i[1])-i[1],l=Math.abs(s)>270?o+Math.sign(s):o;return[n-a[0],r-360*l-a[1]]},n.getKinematics=function(e,t){var n=this.state,r=n.timeStamp,i=n.initial,o=this.getMovement(e,this.state),a=o.delta,s=o.movement;return g({values:e,delta:a,turns:(e[1]-s[1]-i[1])/360},o,{},d(s,a,t.timeStamp-r))},n.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},t}(W));var U=function(e){function t(t,n){var r;return(r=e.call(this,"wheel",t,n)||this).ingKey="wheeling",r.debounced=!0,r.wheelShouldRun=function(e){return(!e.ctrlKey||!("pinch"in r.controller.handlers))&&r.enabled},r.getValuesFromEvent=function(e){var t=r.state.values;return{values:o(N(e).values,t)}},r.onWheel=function(e){r.wheelShouldRun(e)&&(r.clearTimeout(),r.setTimeout(r.onWheelEnd),r.state._active?r.onWheelChange(e):r.onWheelStart(e))},r.onWheelStart=function(e){var t=r.getValuesFromEvent(e).values;r.updateSharedState(I(e));var n=g({},r.getStartGestureState(t,e),{},r.getGenericPayload(e,!0),{initial:r.state.values}),i=r.getMovement(t,n),o=i.delta;r.updateGestureState(g({},n,{},i,{distance:c(o),direction:u(o)})),r.fireGestureHandler()},r.onWheelChange=function(e){var t=I(e);r.updateSharedState(t);var n=r.getValuesFromEvent(e).values,i=r.getKinematics(n,e);r.updateGestureState(g({},r.getGenericPayload(e),{},i)),r.fireGestureHandler()},r.onWheelEnd=function(){r.state._active=!1,r.updateGestureState(g({},r.getMovement(r.state.values),{velocities:[0,0],velocity:0})),r.fireGestureHandler()},r}return m(t,e),t.prototype.addBindings=function(){this.controller.addBindings("onWheel",this.onWheel)},t}(x);var J=function(e){function t(t,n){var r;return(r=e.call(this,"move",t,n)||this).ingKey="moving",r.debounced=!0,r.moveShouldRun=function(){return r.enabled},r.onMove=function(e){r.moveShouldRun()&&(r.clearTimeout(),r.setTimeout(r.onMoveEnd),r.state._active?r.onMoveChange(e):r.onMoveStart(e))},r.onMoveStart=function(e){var t=V(e).values;r.updateSharedState(I(e));var n=g({},r.getStartGestureState(t,e),{},r.getGenericPayload(e,!0));r.updateGestureState(g({},n,{},r.getMovement(t,n))),r.fireGestureHandler()},r.onMoveChange=function(e){var t=I(e);r.updateSharedState(t);var n=V(e).values,i=r.getKinematics(n,e);r.updateGestureState(g({},r.getGenericPayload(e),{},i)),r.fireGestureHandler()},r.onMoveEnd=function(){r.state._active=!1,r.updateGestureState(g({},r.getMovement(r.state.values),{velocities:[0,0],velocity:0})),r.fireGestureHandler()},r.onPointerEnter=function(e){if(r.controller.state.shared.hovering=!0,r.controller.config.enabled){if(r.controller.config.hover.enabled){var t=V(e).values,n=g({},r.controller.state.shared,{},r.state,{},r.getGenericPayload(e,!0),{values:t,active:!0,hovering:!0});r.controller.handlers.hover(g({},n,{},r.mapStateValues(n)))}"move"in r.controller.handlers&&r.onMoveStart(e)}},r.onPointerLeave=function(e){if(r.controller.state.shared.hovering=!1,"move"in r.controller.handlers&&r.onMoveEnd(),r.controller.config.hover.enabled){var t=V(e).values,n=g({},r.controller.state.shared,{},r.state,{},r.getGenericPayload(e),{values:t,active:!1});r.controller.handlers.hover(g({},n,{},r.mapStateValues(n)))}},r}return m(t,e),t.prototype.addBindings=function(){this.controller.config.pointer?("move"in this.controller.handlers&&this.controller.addBindings("onPointerMove",this.onMove),"hover"in this.controller.handlers&&(this.controller.addBindings("onPointerEnter",this.onPointerEnter),this.controller.addBindings("onPointerLeave",this.onPointerLeave))):("move"in this.controller.handlers&&this.controller.addBindings("onMouseMove",this.onMove),"hover"in this.controller.handlers&&(this.controller.addBindings("onMouseEnter",this.onPointerEnter),this.controller.addBindings("onMouseLeave",this.onPointerLeave)))},t}(x);function Z(e,t){void 0===t&&(t={});var n=t,r=n.domTarget,i=n.eventOptions,o=n.window,a=y(n,["domTarget","eventOptions","window"]),s=g({},R({domTarget:r,eventOptions:i,window:o}),{move:F(a)});return L({move:e},[J],s)}var Q=function(e){function t(t,n){var r;return(r=e.call(this,"scroll",t,n)||this).ingKey="scrolling",r.debounced=!0,r.scrollShouldRun=function(){return r.enabled},r.onScroll=function(e){r.scrollShouldRun()&&(r.clearTimeout(),r.setTimeout(r.onScrollEnd),r.state._active?r.onScrollChange(e):r.onScrollStart(e))},r.onScrollStart=function(e){var t=D(e).values;r.updateSharedState(I(e));var n=g({},r.getStartGestureState(t,e),{},r.getGenericPayload(e,!0),{initial:r.state.values}),i=r.getMovement(t,n),o=i.delta;r.updateGestureState(g({},n,{},i,{distance:c(o),direction:u(o)})),r.fireGestureHandler()},r.onScrollChange=function(e){var t=I(e);r.updateSharedState(t);var n=D(e).values,i=r.getKinematics(n,e);r.updateGestureState(g({},r.getGenericPayload(e),{},i)),r.fireGestureHandler()},r.onScrollEnd=function(){r.state._active=!1,r.updateGestureState(g({},r.getMovement(r.state.values),{velocities:[0,0],velocity:0})),r.fireGestureHandler()},r}return m(t,e),t.prototype.addBindings=function(){this.controller.addBindings("onScroll",this.onScroll)},t}(x);function $(e,t){void 0===t&&(t={});var n=i.a.useState((function(){return new Set(Object.keys(e).map((function(e){return e.replace(/End|Start/,"")})))}))[0],r=t,o=r.drag,a=r.wheel,s=r.move,l=r.scroll,c=r.pinch,u=r.hover,d=R(y(r,["drag","wheel","move","scroll","pinch","hover"])),f=[],v={},h=g({},e);return n.has("onDrag")&&(f.push(K),v.drag=ee(e,"onDrag",h),d.drag=Y(o)),n.has("onWheel")&&(f.push(U),v.wheel=ee(e,"onWheel",h),d.wheel=F(a)),n.has("onScroll")&&(f.push(Q),v.scroll=ee(e,"onScroll",h),d.scroll=F(l)),n.has("onMove")&&(f.push(J),v.move=ee(e,"onMove",h),d.move=F(s)),n.has("onPinch")&&(f.push(z),v.pinch=ee(e,"onPinch",h),d.pinch=q(c)),n.has("onHover")&&(n.has("onMove")||f.push(J),v.hover=e.onHover,d.hover=g({enabled:!0},u),delete h.onHover),L(v,f,d,h)}function ee(e,t,n){var r=t+"Start",i=t+"End";delete n[t],delete n[r],delete n[i];return function(n){var o=void 0;return n.first&&r in e&&e[r](n),t in e&&(o=e[t](n)),n.last&&i in e&&e[i](n),o}}}}]);